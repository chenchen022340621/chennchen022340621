<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•™å­¦æ¨¡å‹å±•ç¤º - ChemChen</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }
        
        .header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }
        
        .model-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .model-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }
        
        .chart-wrapper {
            height: 400px;
            margin: 20px 0;
            position: relative;
        }
        
        .chart-wrapper canvas {
            max-width: 100%;
            max-height: 100%;
            border-radius: 10px;
        }
        
        .code-section {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        
        .btn-teaching {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: white;
            border-radius: 25px;
            padding: 10px 20px;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .btn-teaching:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }
        
        .nav-back {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }
        
        .data-input-panel {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid rgba(255,255,255,0.3);
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: rgba(255,255,255,0.9);
        }
        
        .control-group input, .control-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 5px;
            font-size: 14px;
            background: rgba(255,255,255,0.1);
            color: white;
            box-sizing: border-box;
        }
        
        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        @media (max-width: 768px) {
            .input-row {
                grid-template-columns: 1fr;
            }
            
            .chart-wrapper {
                height: 300px;
            }
            
            .button-group {
                flex-direction: column;
                align-items: center;
            }
            
            .btn-teaching {
                width: 100%;
                max-width: 300px;
            }
        }
        
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
    </style>
</head>
<body>
    <!-- è¿”å›æŒ‰é’® -->
    <a href="index.html" class="btn btn-teaching nav-back">â† è¿”å›ä¸»é¡µ</a>

    <div class="main-container">
        <div class="header">
            <h1>ğŸ“Š Python matplotlib æ•™å­¦æ¨¡å‹å±•ç¤º</h1>
            <p class="lead">å°†Pythonæ•°æ®å¯è§†åŒ–ä»£ç è½¬æ¢ä¸ºäº¤äº’å¼ç½‘é¡µå›¾è¡¨ - æ”¯æŒè‡ªå®šä¹‰æ•°æ®è¾“å…¥</p>
            <div class="button-group">
                <button class="btn-teaching" onclick="resetAllTeachingModels()">é‡ç½®æ‰€æœ‰æ¨¡å‹</button>
                <button class="btn-teaching" onclick="generateRandomForAll()">ä¸ºæ‰€æœ‰æ¨¡å‹ç”Ÿæˆéšæœºæ•°æ®</button>
            </div>
        </div>

        <!-- æ­£å¼¦ä½™å¼¦æ›²çº¿æ¨¡å‹ -->
        <div class="model-section">
            <h3>ğŸ“ˆ æ¨¡å‹1: æ­£å¼¦å’Œä½™å¼¦æ›²çº¿</h3>
            <div class="chart-wrapper">
                <canvas id="sineCosineChart"></canvas>
            </div>
            
            <!-- æ•°æ®è¾“å…¥é¢æ¿ -->
            <div class="data-input-panel">
                <h5>ğŸ“ è‡ªå®šä¹‰æ•°æ®è¾“å…¥</h5>
                <div class="input-row">
                    <div class="control-group">
                        <label>æ­£å¼¦æ•°æ® (é€—å·åˆ†éš”):</label>
                        <input type="text" id="sineData" value="65,59,80,81,56,55,40,75">
                    </div>
                    <div class="control-group">
                        <label>ä½™å¼¦æ•°æ® (é€—å·åˆ†éš”):</label>
                        <input type="text" id="cosineData" value="28,48,40,19,86,27,90,60">
                    </div>
                </div>
                <div class="control-group">
                    <label>Xè½´æ ‡ç­¾ (é€—å·åˆ†éš”):</label>
                    <input type="text" id="sineLabels" value="1æœˆ,2æœˆ,3æœˆ,4æœˆ,5æœˆ,6æœˆ,7æœˆ,8æœˆ">
                </div>
                <div class="button-group">
                    <button class="btn-teaching" onclick="updateSineCosineChart()">åº”ç”¨è‡ªå®šä¹‰æ•°æ®</button>
                    <button class="btn-teaching" onclick="generateRandomSineCosine()">ç”Ÿæˆéšæœºæ•°æ®</button>
                    <button class="btn-teaching" onclick="resetSineCosine()">é‡ç½®æ•°æ®</button>
                </div>
            </div>
            
            <div class="code-section">
                <h5>Python æºç :</h5>
                <pre>
import numpy as np
import matplotlib.pyplot as plt

x = np.linspace(-np.pi, np.pi, 256, endpoint=True)
y1, y2 = np.sin(x), np.cos(x)
plt.plot(x, y1, x, y2)
plt.xlabel("xè½´")
plt.ylabel("yè½´")
plt.title("æ­£å¼¦æ›²çº¿å’Œä½™å¼¦æ›²çº¿")
plt.legend(['æ­£å¼¦', 'ä½™å¼¦'])
plt.grid(True)
plt.show()</pre>
            </div>
        </div>

        <!-- æ”¯ä»˜å®æœˆè´¦å•æ¨¡å‹ -->
        <div class="model-section">
            <h3>ğŸ’° æ¨¡å‹2: æ”¯ä»˜å®æœˆè´¦å•æŠ¥å‘Š</h3>
            <div class="chart-wrapper">
                <canvas id="alipayChart"></canvas>
            </div>
            
            <!-- æ•°æ®è¾“å…¥é¢æ¿ -->
            <div class="data-input-panel">
                <h5>ğŸ“ è‡ªå®šä¹‰æ•°æ®è¾“å…¥</h5>
                <div class="input-row">
                    <div class="control-group">
                        <label>è´­ç‰© (%):</label>
                        <input type="number" id="alipayShopping" value="26.7" min="0" max="100" step="0.1">
                    </div>
                    <div class="control-group">
                        <label>é¤é¥®ç¾é£Ÿ (%):</label>
                        <input type="number" id="alipayFood" value="33.3" min="0" max="100" step="0.1">
                    </div>
                </div>
                <div class="input-row">
                    <div class="control-group">
                        <label>äº¤é€šå‡ºè¡Œ (%):</label>
                        <input type="number" id="alipayTransport" value="10.0" min="0" max="100" step="0.1">
                    </div>
                    <div class="control-group">
                        <label>ä¼‘é—²å¨±ä¹ (%):</label>
                        <input type="number" id="alipayEntertainment" value="8.7" min="0" max="100" step="0.1">
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn-teaching" onclick="updateAlipayChart()">åº”ç”¨è‡ªå®šä¹‰æ•°æ®</button>
                    <button class="btn-teaching" onclick="generateRandomAlipay()">ç”Ÿæˆéšæœºæ•°æ®</button>
                    <button class="btn-teaching" onclick="resetAlipay()">é‡ç½®æ•°æ®</button>
                </div>
            </div>
            
            <div class="code-section">
                <h5>Python æºç :</h5>
                <pre>
kinds = ['è´­ç‰©','äººæƒ…å¾€æ¥','é¤é¥®ç¾é£Ÿ','é€šä¿¡ç‰©æµ','ç”Ÿæ´»æ—¥ç”¨','äº¤é€šå‡ºè¡Œ','ä¼‘é—²å¨±ä¹','å…¶ä»–']
money_scale = [800/3000, 100/3000, 1000/3000, 200/3000, 300/3000, 200/3000, 200/3000, 200/3000]
plt.pie(money_scale, autopct='%3.1f%%', shadow=True)
plt.title('æ”¯ä»˜å®æœˆè´¦å•æŠ¥å‘Š')
plt.legend(kinds, loc='upper right')
plt.show()</pre>
            </div>
        </div>

        <!-- ç”µå½±ç¥¨æˆ¿æ¨¡å‹ -->
        <div class="model-section">
            <h3>ğŸ¬ æ¨¡å‹3: ç”µå½±ç¥¨æˆ¿æ’å</h3>
            <div class="chart-wrapper">
                <canvas id="movieChart"></canvas>
            </div>
            
            <!-- æ•°æ®è¾“å…¥é¢æ¿ -->
            <div class="data-input-panel">
                <h5>ğŸ“ è‡ªå®šä¹‰æ•°æ®è¾“å…¥</h5>
                <div class="control-group">
                    <label>ç”µå½±ç¥¨æˆ¿æ•°æ® (é€—å·åˆ†éš”ï¼Œå•ä½:äº¿å…ƒ):</label>
                    <input type="text" id="movieData" value="48.57,46.18,42.05,21.83,17.03,16.70">
                </div>
                <div class="control-group">
                    <label>ç”µå½±åç§° (é€—å·åˆ†éš”):</label>
                    <input type="text" id="movieLabels" value="å“ªå’ä¹‹é­”ç«¥é™ä¸–,æµæµªåœ°çƒ,å¤ä»‡è€…è”ç›Ÿ4,ç–¯ç‹‚çš„å¤–æ˜Ÿäºº,é£é©°äººç”Ÿ,çƒˆç«è‹±é›„">
                </div>
                <div class="button-group">
                    <button class="btn-teaching" onclick="updateMovieChart()">åº”ç”¨è‡ªå®šä¹‰æ•°æ®</button>
                    <button class="btn-teaching" onclick="generateRandomMovie()">ç”Ÿæˆéšæœºæ•°æ®</button>
                    <button class="btn-teaching" onclick="resetMovie()">é‡ç½®æ•°æ®</button>
                </div>
            </div>
            
            <div class="code-section">
                <h5>Python æºç :</h5>
                <pre>
labels = ["å“ªå’ä¹‹é­”ç«¥é™ä¸–","æµæµªåœ°çƒ","å¤ä»‡è€…è”ç›Ÿ4","ç–¯ç‹‚çš„å¤–æ˜Ÿäºº","é£é©°äººç”Ÿ","çƒˆç«è‹±é›„"]
bar_width = [48.57, 46.18, 42.05, 21.83, 17.03, 16.70]
plt.barh(range(len(labels)), bar_width, color='orange')
plt.xlabel("æ€»ç¥¨æˆ¿ï¼ˆäº¿å…ƒï¼‰")
plt.ylabel("ç”µå½±åç§°")
plt.yticks(range(len(labels)), labels)
plt.show()</pre>
            </div>
        </div>

        <!-- æ±½è½¦åˆ¶åŠ¨è·ç¦»æ¨¡å‹ -->
        <div class="model-section">
            <h3>ğŸš— æ¨¡å‹4: æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»</h3>
            <div class="chart-wrapper">
                <canvas id="carChart"></canvas>
            </div>
            
            <!-- æ•°æ®è¾“å…¥é¢æ¿ -->
            <div class="data-input-panel">
                <h5>ğŸ“ è‡ªå®šä¹‰æ•°æ®è¾“å…¥</h5>
                <div class="control-group">
                    <label>é€Ÿåº¦æ•°æ® (é€—å·åˆ†éš”ï¼Œkm/h):</label>
                    <input type="text" id="carSpeedData" value="10,20,30,40,50,60,70,80,90,100">
                </div>
                <div class="control-group">
                    <label>åˆ¶åŠ¨è·ç¦»æ•°æ® (é€—å·åˆ†éš”ï¼Œm):</label>
                    <input type="text" id="carDistanceData" value="0.5,2.0,4.4,7.9,12.3,17.7,24.1,31.5,39.9,49.2">
                </div>
                <div class="button-group">
                    <button class="btn-teaching" onclick="updateCarChart()">åº”ç”¨è‡ªå®šä¹‰æ•°æ®</button>
                    <button class="btn-teaching" onclick="generateRandomCar()">ç”Ÿæˆéšæœºæ•°æ®</button>
                    <button class="btn-teaching" onclick="resetCar()">é‡ç½®æ•°æ®</button>
                </div>
            </div>
            
            <div class="code-section">
                <h5>Python æºç :</h5>
                <pre>
x_speed = np.arange(10, 110, 10)
y_distance = [0.5,2.0,4.4,7.9,12.3,17.7,24.1,31.5,39.9,49.2]
plt.scatter(x_speed, y_distance, s=50, alpha=0.9)
plt.xlabel('é€Ÿåº¦(km/h)')
plt.ylabel('åˆ¶åŠ¨è·ç¦»(m)')
plt.grid(True)
plt.show()</pre>
            </div>
        </div>

        <!-- è‹±è¯­æˆç»©æ¨¡å‹ -->
        <div class="model-section">
            <h3>ğŸ“š æ¨¡å‹5: è‹±è¯­å¹³å‡æˆç»©å¯¹æ¯”</h3>
            <div class="chart-wrapper">
                <canvas id="englishChart"></canvas>
            </div>
            
            <!-- æ•°æ®è¾“å…¥é¢æ¿ -->
            <div class="data-input-panel">
                <h5>ğŸ“ è‡ªå®šä¹‰æ•°æ®è¾“å…¥</h5>
                <div class="input-row">
                    <div class="control-group">
                        <label>ç”·ç”Ÿæˆç»© (é€—å·åˆ†éš”):</label>
                        <input type="text" id="maleScores" value="90.5,89.5,88.7,88.5,85.2,86.6">
                    </div>
                    <div class="control-group">
                        <label>å¥³ç”Ÿæˆç»© (é€—å·åˆ†éš”):</label>
                        <input type="text" id="femaleScores" value="92.7,87.0,90.5,85.0,89.5,89.8">
                    </div>
                </div>
                <div class="control-group">
                    <label>ç­çº§åç§° (é€—å·åˆ†éš”):</label>
                    <input type="text" id="classLabels" value="é«˜äºŒ1ç­,é«˜äºŒ2ç­,é«˜äºŒ3ç­,é«˜äºŒ4ç­,é«˜äºŒ5ç­,é«˜äºŒ6ç­">
                </div>
                <div class="button-group">
                    <button class="btn-teaching" onclick="updateEnglishChart()">åº”ç”¨è‡ªå®šä¹‰æ•°æ®</button>
                    <button class="btn-teaching" onclick="generateRandomEnglish()">ç”Ÿæˆéšæœºæ•°æ®</button>
                    <button class="btn-teaching" onclick="resetEnglish()">é‡ç½®æ•°æ®</button>
                </div>
            </div>
            
            <div class="code-section">
                <h5>Python æºç :</h5>
                <pre>
men_means = (90.5, 89.5, 88.7, 88.5, 85.2, 86.6)
women_means = (92.7, 87.0, 90.5, 85.0, 89.5, 89.8)
ind = np.arange(len(men_means))
width = 0.35
plt.bar(ind - width/2, men_means, width, label='ç”·ç”Ÿå¹³å‡æˆç»©')
plt.bar(ind + width/2, women_means, width, label='å¥³ç”Ÿå¹³å‡æˆç»©')
plt.title('é«˜äºŒå„ç­ç”·ç”Ÿã€å¥³ç”Ÿè‹±è¯­å¹³å‡æˆç»©')
plt.ylabel('åˆ†æ•°')
plt.xticks(ind, ['é«˜äºŒ1ç­','é«˜äºŒ2ç­','é«˜äºŒ3ç­','é«˜äºŒ4ç­','é«˜äºŒ5ç­','é«˜äºŒ6ç­'])
plt.axhline(88.5, ls='--', label='å…¨ä½“å¹³å‡æˆç»©')
plt.legend()
plt.show()</pre>
            </div>
        </div>

        <!-- é˜¿é‡Œå·´å·´GMVæ¨¡å‹ -->
        <div class="model-section">
            <h3>ğŸ“Š æ¨¡å‹6: é˜¿é‡Œå·´å·´GMVæ•°æ®</h3>
            <div class="chart-wrapper">
                <canvas id="gmvChart"></canvas>
            </div>
            
            <!-- æ•°æ®è¾“å…¥é¢æ¿ -->
            <div class="data-input-panel">
                <h5>ğŸ“ è‡ªå®šä¹‰æ•°æ®è¾“å…¥</h5>
                <div class="control-group">
                    <label>GMVæ•°æ® (é€—å·åˆ†éš”ï¼Œå•ä½:äº¿å…ƒ):</label>
                    <input type="text" id="gmvData" value="10770,16780,24440,30920,37670,48200,57270">
                </div>
                <div class="control-group">
                    <label>å¹´ä»½æ ‡ç­¾ (é€—å·åˆ†éš”):</label>
                    <input type="text" id="gmvLabels" value="FY2013,FY2014,FY2015,FY2016,FY2017,FY2018,FY2019">
                </div>
                <div class="button-group">
                    <button class="btn-teaching" onclick="updateGmvChart()">åº”ç”¨è‡ªå®šä¹‰æ•°æ®</button>
                    <button class="btn-teaching" onclick="generateRandomGmv()">ç”Ÿæˆéšæœºæ•°æ®</button>
                    <button class="btn-teaching" onclick="resetGmv()">é‡ç½®æ•°æ®</button>
                </div>
            </div>
            
            <div class="code-section">
                <h5>Python æºç :</h5>
                <pre>
x = np.arange(1,8)
y = [10770, 16780, 24440, 30920, 37670, 48200, 57270]
bar_rects = plt.bar(x, y, tick_label=["FY2013","FY2014","FY2015","FY2016",
                     "FY2017","FY2018","FY2019"], width=0.5)
plt.ylabel('GMVï¼ˆäº¿å…ƒ)')
# æ·»åŠ æ•°æ®æ ‡ç­¾
for rect in bar_rects:
    height = rect.get_height()
    plt.text(rect.get_x() + rect.get_width()/2, height + 300, 
             f'{height}', ha='center', va='bottom')
plt.show()</pre>
            </div>
        </div>
    </div>

    <script>
        // å›¾è¡¨å®ä¾‹å­˜å‚¨
        const teachingCharts = {};

        // åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨
        document.addEventListener('DOMContentLoaded', function() {
            initTeachingCharts();
        });

        // ========== æ­£å¼¦ä½™å¼¦æ›²çº¿ ==========
        function initSineCosineChart() {
            const ctx = document.getElementById('sineCosineChart').getContext('2d');
            
            teachingCharts.sineCosine = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ'],
                    datasets: [
                        {
                            label: 'æ­£å¼¦',
                            data: [65, 59, 80, 81, 56, 55, 40, 75],
                            borderColor: 'rgb(75, 192, 192)',
                            backgroundColor: 'rgba(75, 192, 192, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'ä½™å¼¦',
                            data: [28, 48, 40, 19, 86, 27, 90, 60],
                            borderColor: 'rgb(255, 99, 132)',
                            backgroundColor: 'rgba(255, 99, 132, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'æ­£å¼¦æ›²çº¿å’Œä½™å¼¦æ›²çº¿',
                            color: 'white',
                            font: { size: 16 }
                        },
                        legend: {
                            labels: { color: 'white' }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'xè½´',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'yè½´',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
        }

        function updateSineCosineChart() {
            try {
                const sineData = document.getElementById('sineData').value.split(',').map(val => parseFloat(val.trim()));
                const cosineData = document.getElementById('cosineData').value.split(',').map(val => parseFloat(val.trim()));
                const labels = document.getElementById('sineLabels').value.split(',').map(label => label.trim());
                
                teachingCharts.sineCosine.data.labels = labels;
                teachingCharts.sineCosine.data.datasets[0].data = sineData;
                teachingCharts.sineCosine.data.datasets[1].data = cosineData;
                teachingCharts.sineCosine.update();
            } catch (error) {
                alert('æ•°æ®æ ¼å¼é”™è¯¯ï¼è¯·ç¡®ä¿è¾“å…¥çš„æ˜¯ç”¨é€—å·åˆ†éš”çš„æ•°å­—ã€‚');
            }
        }

        function generateRandomSineCosine() {
            const length = 8;
            const sineData = Array.from({length}, () => Math.floor(Math.random() * 100));
            const cosineData = Array.from({length}, () => Math.floor(Math.random() * 100));
            const labels = Array.from({length}, (_, i) => `æ•°æ®${i+1}`);
            
            document.getElementById('sineData').value = sineData.join(',');
            document.getElementById('cosineData').value = cosineData.join(',');
            document.getElementById('sineLabels').value = labels.join(',');
            
            updateSineCosineChart();
        }

        function resetSineCosine() {
            document.getElementById('sineData').value = "65,59,80,81,56,55,40,75";
            document.getElementById('cosineData').value = "28,48,40,19,86,27,90,60";
            document.getElementById('sineLabels').value = "1æœˆ,2æœˆ,3æœˆ,4æœˆ,5æœˆ,6æœˆ,7æœˆ,8æœˆ";
            updateSineCosineChart();
        }

        // ========== æ”¯ä»˜å®æœˆè´¦å• ==========
        function initAlipayChart() {
            const ctx = document.getElementById('alipayChart').getContext('2d');
            
            teachingCharts.alipay = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ['è´­ç‰©', 'äººæƒ…å¾€æ¥', 'é¤é¥®ç¾é£Ÿ', 'é€šä¿¡ç‰©æµ', 'ç”Ÿæ´»æ—¥ç”¨', 'äº¤é€šå‡ºè¡Œ', 'ä¼‘é—²å¨±ä¹', 'å…¶ä»–'],
                    datasets: [{
                        data: [26.7, 3.3, 33.3, 6.7, 10.0, 4.7, 8.7, 6.7],
                        backgroundColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',
                            '#9966FF', '#FF9F40', '#FF6384', '#C9CBCF'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'æ”¯ä»˜å®æœˆè´¦å•æŠ¥å‘Š',
                            color: 'white',
                            font: { size: 16 }
                        },
                        legend: {
                            position: 'right',
                            labels: { color: 'white' }
                        }
                    }
                }
            });
        }

        function updateAlipayChart() {
            const shopping = parseFloat(document.getElementById('alipayShopping').value) || 0;
            const food = parseFloat(document.getElementById('alipayFood').value) || 0;
            const transport = parseFloat(document.getElementById('alipayTransport').value) || 0;
            const entertainment = parseFloat(document.getElementById('alipayEntertainment').value) || 0;
            
            // è®¡ç®—å…¶ä»–ç±»åˆ«
            const remaining = 100 - shopping - food - transport - entertainment;
            const otherCategories = [3.3, 6.7, 4.7, remaining/2, remaining/2];
            
            const newData = [shopping, ...otherCategories.slice(0, 1), food, ...otherCategories.slice(1, 2), 
                           transport, ...otherCategories.slice(2, 3), entertainment, ...otherCategories.slice(3)];
            
            teachingCharts.alipay.data.datasets[0].data = newData;
            teachingCharts.alipay.update();
        }

        function generateRandomAlipay() {
            document.getElementById('alipayShopping').value = (Math.random() * 40 + 20).toFixed(1);
            document.getElementById('alipayFood').value = (Math.random() * 40 + 20).toFixed(1);
            document.getElementById('alipayTransport').value = (Math.random() * 20 + 5).toFixed(1);
            document.getElementById('alipayEntertainment').value = (Math.random() * 15 + 5).toFixed(1);
            updateAlipayChart();
        }

        function resetAlipay() {
            document.getElementById('alipayShopping').value = "26.7";
            document.getElementById('alipayFood').value = "33.3";
            document.getElementById('alipayTransport').value = "10.0";
            document.getElementById('alipayEntertainment').value = "8.7";
            updateAlipayChart();
        }

        // ========== ç”µå½±ç¥¨æˆ¿ ==========
        function initMovieChart() {
            const ctx = document.getElementById('movieChart').getContext('2d');
            
            teachingCharts.movie = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ["å“ªå’ä¹‹é­”ç«¥é™ä¸–", "æµæµªåœ°çƒ", "å¤ä»‡è€…è”ç›Ÿ4", "ç–¯ç‹‚çš„å¤–æ˜Ÿäºº", "é£é©°äººç”Ÿ", "çƒˆç«è‹±é›„"],
                    datasets: [{
                        label: 'ç¥¨æˆ¿ï¼ˆäº¿å…ƒï¼‰',
                        data: [48.57, 46.18, 42.05, 21.83, 17.03, 16.70],
                        backgroundColor: 'rgba(255, 159, 64, 0.8)',
                        borderColor: 'rgb(255, 159, 64)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'ç”µå½±ç¥¨æˆ¿æ’å',
                            color: 'white',
                            font: { size: 16 }
                        },
                        legend: {
                            labels: { color: 'white' }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'æ€»ç¥¨æˆ¿ï¼ˆäº¿å…ƒï¼‰',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
        }

        function updateMovieChart() {
            try {
                const data = document.getElementById('movieData').value.split(',').map(val => parseFloat(val.trim()));
                const labels = document.getElementById('movieLabels').value.split(',').map(label => label.trim());
                
                teachingCharts.movie.data.labels = labels;
                teachingCharts.movie.data.datasets[0].data = data;
                teachingCharts.movie.update();
            } catch (error) {
                alert('æ•°æ®æ ¼å¼é”™è¯¯ï¼è¯·ç¡®ä¿è¾“å…¥çš„æ˜¯ç”¨é€—å·åˆ†éš”çš„æ•°å­—ã€‚');
            }
        }

        function generateRandomMovie() {
            const length = 6;
            const data = Array.from({length}, () => (Math.random() * 50 + 10).toFixed(2));
            const labels = Array.from({length}, (_, i) => `ç”µå½±${i+1}`);
            
            document.getElementById('movieData').value = data.join(',');
            document.getElementById('movieLabels').value = labels.join(',');
            updateMovieChart();
        }

        function resetMovie() {
            document.getElementById('movieData').value = "48.57,46.18,42.05,21.83,17.03,16.70";
            document.getElementById('movieLabels').value = "å“ªå’ä¹‹é­”ç«¥é™ä¸–,æµæµªåœ°çƒ,å¤ä»‡è€…è”ç›Ÿ4,ç–¯ç‹‚çš„å¤–æ˜Ÿäºº,é£é©°äººç”Ÿ,çƒˆç«è‹±é›„";
            updateMovieChart();
        }

        // ========== æ±½è½¦åˆ¶åŠ¨è·ç¦» ==========
        function initCarChart() {
            const ctx = document.getElementById('carChart').getContext('2d');
            
            teachingCharts.car = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'åˆ¶åŠ¨è·ç¦»',
                        data: [
                            {x: 10, y: 0.5}, {x: 20, y: 2.0}, {x: 30, y: 4.4}, {x: 40, y: 7.9},
                            {x: 50, y: 12.3}, {x: 60, y: 17.7}, {x: 70, y: 24.1}, {x: 80, y: 31.5},
                            {x: 90, y: 39.9}, {x: 100, y: 49.2}
                        ],
                        backgroundColor: 'rgba(54, 162, 235, 0.8)',
                        borderColor: 'rgb(54, 162, 235)',
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»çš„å…³ç³»',
                            color: 'white',
                            font: { size: 16 }
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'é€Ÿåº¦(km/h)',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'åˆ¶åŠ¨è·ç¦»(m)',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
        }

        function updateCarChart() {
            try {
                const speedData = document.getElementById('carSpeedData').value.split(',').map(val => parseFloat(val.trim()));
                const distanceData = document.getElementById('carDistanceData').value.split(',').map(val => parseFloat(val.trim()));
                
                const newData = speedData.map((speed, index) => ({
                    x: speed,
                    y: distanceData[index] || 0
                }));
                
                teachingCharts.car.data.datasets[0].data = newData;
                teachingCharts.car.update();
            } catch (error) {
                alert('æ•°æ®æ ¼å¼é”™è¯¯ï¼è¯·ç¡®ä¿è¾“å…¥çš„æ˜¯ç”¨é€—å·åˆ†éš”çš„æ•°å­—ï¼Œä¸”ä¸¤ç»„æ•°æ®é•¿åº¦ç›¸åŒã€‚');
            }
        }

        function generateRandomCar() {
            const length = 10;
            const speedData = Array.from({length}, (_, i) => (i + 1) * 10);
            const distanceData = Array.from({length}, () => (Math.random() * 50).toFixed(1));
            
            document.getElementById('carSpeedData').value = speedData.join(',');
            document.getElementById('carDistanceData').value = distanceData.join(',');
            updateCarChart();
        }

        function resetCar() {
            document.getElementById('carSpeedData').value = "10,20,30,40,50,60,70,80,90,100";
            document.getElementById('carDistanceData').value = "0.5,2.0,4.4,7.9,12.3,17.7,24.1,31.5,39.9,49.2";
            updateCarChart();
        }

        // ========== è‹±è¯­æˆç»© ==========
        function initEnglishChart() {
            const ctx = document.getElementById('englishChart').getContext('2d');
            
            teachingCharts.english = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['é«˜äºŒ1ç­', 'é«˜äºŒ2ç­', 'é«˜äºŒ3ç­', 'é«˜äºŒ4ç­', 'é«˜äºŒ5ç­', 'é«˜äºŒ6ç­'],
                    datasets: [
                        {
                            label: 'ç”·ç”Ÿå¹³å‡æˆç»©',
                            data: [90.5, 89.5, 88.7, 88.5, 85.2, 86.6],
                            backgroundColor: 'rgba(54, 162, 235, 0.8)',
                            borderColor: 'rgb(54, 162, 235)',
                            borderWidth: 1
                        },
                        {
                            label: 'å¥³ç”Ÿå¹³å‡æˆç»©',
                            data: [92.7, 87.0, 90.5, 85.0, 89.5, 89.8],
                            backgroundColor: 'rgba(255, 99, 132, 0.8)',
                            borderColor: 'rgb(255, 99, 132)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'é«˜äºŒå„ç­ç”·ç”Ÿã€å¥³ç”Ÿè‹±è¯­å¹³å‡æˆç»©',
                            color: 'white',
                            font: { size: 16 }
                        },
                        legend: {
                            labels: { color: 'white' }
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'åˆ†æ•°',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            min: 80,
                            max: 95
                        },
                        x: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
        }

        function updateEnglishChart() {
            try {
                const maleScores = document.getElementById('maleScores').value.split(',').map(val => parseFloat(val.trim()));
                const femaleScores = document.getElementById('femaleScores').value.split(',').map(val => parseFloat(val.trim()));
                const labels = document.getElementById('classLabels').value.split(',').map(label => label.trim());
                
                teachingCharts.english.data.labels = labels;
                teachingCharts.english.data.datasets[0].data = maleScores;
                teachingCharts.english.data.datasets[1].data = femaleScores;
                teachingCharts.english.update();
            } catch (error) {
                alert('æ•°æ®æ ¼å¼é”™è¯¯ï¼è¯·ç¡®ä¿è¾“å…¥çš„æ˜¯ç”¨é€—å·åˆ†éš”çš„æ•°å­—ã€‚');
            }
        }

        function generateRandomEnglish() {
            const length = 6;
            const maleScores = Array.from({length}, () => (Math.random() * 15 + 80).toFixed(1));
            const femaleScores = Array.from({length}, () => (Math.random() * 15 + 80).toFixed(1));
            const labels = Array.from({length}, (_, i) => `ç­çº§${i+1}`);
            
            document.getElementById('maleScores').value = maleScores.join(',');
            document.getElementById('femaleScores').value = femaleScores.join(',');
            document.getElementById('classLabels').value = labels.join(',');
            updateEnglishChart();
        }

        function resetEnglish() {
            document.getElementById('maleScores').value = "90.5,89.5,88.7,88.5,85.2,86.6";
            document.getElementById('femaleScores').value = "92.7,87.0,90.5,85.0,89.5,89.8";
            document.getElementById('classLabels').value = "é«˜äºŒ1ç­,é«˜äºŒ2ç­,é«˜äºŒ3ç­,é«˜äºŒ4ç­,é«˜äºŒ5ç­,é«˜äºŒ6ç­";
            updateEnglishChart();
        }

        // ========== é˜¿é‡Œå·´å·´GMV ==========
        function initGmvChart() {
            const ctx = document.getElementById('gmvChart').getContext('2d');
            
            teachingCharts.gmv = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ["FY2013", "FY2014", "FY2015", "FY2016", "FY2017", "FY2018", "FY2019"],
                    datasets: [{
                        label: 'GMVï¼ˆäº¿å…ƒï¼‰',
                        data: [10770, 16780, 24440, 30920, 37670, 48200, 57270],
                        backgroundColor: 'rgba(75, 192, 192, 0.8)',
                        borderColor: 'rgb(75, 192, 192)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: '2013-2019è´¢å¹´é˜¿é‡Œå·´å·´æ·˜å®å’Œå¤©çŒ«å¹³å°çš„GMV',
                            color: 'white',
                            font: { size: 16 }
                        },
                        legend: {
                            labels: { color: 'white' }
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'GMVï¼ˆäº¿å…ƒ)',
                                color: 'white'
                            },
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        },
                        x: {
                            ticks: { color: 'white' },
                            grid: { color: 'rgba(255,255,255,0.1)' }
                        }
                    }
                }
            });
        }

        function updateGmvChart() {
            try {
                const data = document.getElementById('gmvData').value.split(',').map(val => parseFloat(val.trim()));
                const labels = document.getElementById('gmvLabels').value.split(',').map(label => label.trim());
                
                teachingCharts.gmv.data.labels = labels;
                teachingCharts.gmv.data.datasets[0].data = data;
                teachingCharts.gmv.update();
            } catch (error) {
                alert('æ•°æ®æ ¼å¼é”™è¯¯ï¼è¯·ç¡®ä¿è¾“å…¥çš„æ˜¯ç”¨é€—å·åˆ†éš”çš„æ•°å­—ã€‚');
            }
        }

        function generateRandomGmv() {
            const length = 7;
            const data = Array.from({length}, (_, i) => Math.floor(Math.random() * 50000 + 10000));
            const labels = Array.from({length}, (_, i) => `å¹´ä»½${i+1}`);
            
            document.getElementById('gmvData').value = data.join(',');
            document.getElementById('gmvLabels').value = labels.join(',');
            updateGmvChart();
        }

        function resetGmv() {
            document.getElementById('gmvData').value = "10770,16780,24440,30920,37670,48200,57270";
            document.getElementById('gmvLabels').value = "FY2013,FY2014,FY2015,FY2016,FY2017,FY2018,FY2019";
            updateGmvChart();
        }

        // ========== åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨ ==========
        function initTeachingCharts() {
            initSineCosineChart();
            initAlipayChart();
            initMovieChart();
            initCarChart();
            initEnglishChart();
            initGmvChart();
        }

        // ========== å…¨å±€åŠŸèƒ½ ==========
        function resetAllTeachingModels() {
            resetSineCosine();
            resetAlipay();
            resetMovie();
            resetCar();
            resetEnglish();
            resetGmv();
            alert('æ‰€æœ‰æ•™å­¦æ¨¡å‹å·²é‡ç½®ï¼');
        }

        function generateRandomForAll() {
            generateRandomSineCosine();
            generateRandomAlipay();
            generateRandomMovie();
            generateRandomCar();
            generateRandomEnglish();
            generateRandomGmv();
            alert('å·²ä¸ºæ‰€æœ‰æ¨¡å‹ç”Ÿæˆéšæœºæ•°æ®ï¼');
        }
    </script>
</body>
</html>
